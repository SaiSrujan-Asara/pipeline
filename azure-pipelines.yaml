trigger:
- main  # Replace 'main with main.' 
pr:
- '*'
pool:
  name: tcl
jobs:
- job: checkbranchstatus
  steps:
  - checkout: self 
    clean: true    
    fetchDepth: 0  
    ref: 'refs/heads/feat/rrr-1'
  - script: |
      /bin/bash pipeline/githubbranch.sh
    displayName: 'Precheck'
    continueOnError: false  # Allow the step to continue, even if it Fails
- job: terraform
  dependsOn: checkbranchstatus
  steps:
  - script: |
      # This job will only run if the previous job succeeded
      echo "This job runs because the first job succeeded"
    displayName: 'Main job'
